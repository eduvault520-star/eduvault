"use strict";(self.webpackChunkeduvault_student_frontend=self.webpackChunkeduvault_student_frontend||[]).push([[31],{470:(e,t,o)=>{o.d(t,{A:()=>y});var r=o(8168),n=o(8587),a=o(9950),i=o(2004),s=o(8465),l=o(9254),c=o(8463),d=o(2235),u=o(1763),m=o(423);function x(e){return(0,m.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var h=o(4414);const A=["className","raised"],j=(0,l.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),y=a.forwardRef(function(e,t){const o=(0,c.b)({props:e,name:"MuiCard"}),{className:a,raised:l=!1}=o,d=(0,n.A)(o,A),u=(0,r.A)({},o,{raised:l}),m=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"]},x,t)})(u);return(0,h.jsx)(j,(0,r.A)({className:(0,i.A)(m.root,a),elevation:l?8:void 0,ref:t,ownerState:u},d))})},704:(e,t,o)=>{o.d(t,{A:()=>j});var r=o(8168),n=o(8587),a=o(9950),i=o(2004),s=o(8465),l=o(9254),c=o(8463),d=o(1763),u=o(423);function m(e){return(0,u.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var x=o(4414);const h=["className","component"],A=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),j=a.forwardRef(function(e,t){const o=(0,c.b)({props:e,name:"MuiCardContent"}),{className:a,component:l="div"}=o,d=(0,n.A)(o,h),u=(0,r.A)({},o,{component:l}),j=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"]},m,t)})(u);return(0,x.jsx)(A,(0,r.A)({as:l,className:(0,i.A)(j.root,a),ownerState:u,ref:t},d))})},8031:(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var r=o(9950),n=o(6491),a=o(6639),i=o(6157),s=o(2053),l=o(899),c=o(9925),d=o(5979),u=o(3788),m=o(6101),x=o(3266),h=o(470),A=o(704),j=o(5277),y=o(226),p=o(9723),v=o(1543),b=o(1461),g=o(4414);const f=()=>{const[e,t]=(0,r.useState)([]),[o,f]=(0,r.useState)(!0),[C,w]=(0,r.useState)(""),[k,L]=(0,r.useState)("all"),{user:S}=(0,v.A)(),{unlockJob:M}=(0,b.u)();(0,r.useEffect)(()=>{B()},[]);const B=async()=>{try{const e=await api.get("/api/jobs");t(e.data.jobs)}catch(e){console.error("Error fetching jobs:",e)}finally{f(!1)}},N=e.filter(e=>{const t=e.title.toLowerCase().includes(C.toLowerCase())||e.company.name.toLowerCase().includes(C.toLowerCase()),o="all"===k||e.company.location.county.toLowerCase()===k.toLowerCase();return t&&o});return o?(0,g.jsx)(n.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:(0,g.jsx)(a.A,{})}):(0,g.jsx)(i.A,{maxWidth:"lg",sx:{py:4},children:(0,g.jsxs)(p.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,g.jsx)(s.A,{variant:"h3",component:"h1",gutterBottom:!0,color:"primary",children:"Job Opportunities"}),(0,g.jsx)(s.A,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Discover career opportunities tailored to your field of study"}),(0,g.jsx)(n.A,{sx:{mb:4},children:(0,g.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,g.jsx)(l.Ay,{item:!0,xs:12,md:8,children:(0,g.jsx)(c.A,{fullWidth:!0,label:"Search jobs...",value:C,onChange:e=>w(e.target.value)})}),(0,g.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,g.jsxs)(d.A,{fullWidth:!0,children:[(0,g.jsx)(u.A,{children:"Filter by Location"}),(0,g.jsxs)(m.A,{value:k,label:"Filter by Location",onChange:e=>L(e.target.value),children:[(0,g.jsx)(x.A,{value:"all",children:"All Locations"}),(0,g.jsx)(x.A,{value:"nairobi",children:"Nairobi"}),(0,g.jsx)(x.A,{value:"mombasa",children:"Mombasa"}),(0,g.jsx)(x.A,{value:"kisumu",children:"Kisumu"})]})]})})]})}),(0,g.jsx)(l.Ay,{container:!0,spacing:3,children:N.map(e=>(0,g.jsx)(l.Ay,{item:!0,xs:12,children:(0,g.jsx)(p.P.div,{whileHover:{scale:1.01},transition:{duration:.2},children:(0,g.jsx)(h.A,{children:(0,g.jsx)(A.A,{children:(0,g.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,g.jsxs)(l.Ay,{item:!0,xs:12,md:8,children:[(0,g.jsx)(s.A,{variant:"h5",gutterBottom:!0,children:e.title}),(0,g.jsx)(s.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:e.company.name}),(0,g.jsxs)(s.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["\ud83d\udccd ",e.company.location.county]}),(0,g.jsxs)(n.A,{sx:{mb:2},children:[(0,g.jsx)(j.A,{label:e.employmentType.replace("_"," "),size:"small",sx:{mr:1}}),(0,g.jsx)(j.A,{label:e.experienceLevel,size:"small",sx:{mr:1}}),e.isPremium&&(0,g.jsx)(j.A,{label:"Premium",color:"warning",size:"small"})]}),(0,g.jsxs)(s.A,{variant:"body1",gutterBottom:!0,children:["\ud83d\udcb0 KSH ",e.salary.min.toLocaleString()," - ",e.salary.max.toLocaleString()," per month"]})]}),(0,g.jsx)(l.Ay,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"left",md:"right"}},children:e.isPremium?(0,g.jsxs)(n.A,{children:[(0,g.jsxs)(s.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Unlock for KSH ",e.unlockPrice]}),(0,g.jsx)(y.A,{variant:"contained",color:"warning",onClick:()=>(async e=>{try{await M(e),B()}catch(t){console.error("Error unlocking job:",t)}})(e._id),disabled:!S,children:"\ud83d\udd13 Unlock Job Details"})]}):(0,g.jsx)(y.A,{variant:"contained",color:"primary",children:"View Full Details"})})]})})})})},e._id))}),0===N.length&&(0,g.jsx)(n.A,{textAlign:"center",py:4,children:(0,g.jsx)(s.A,{variant:"h6",color:"text.secondary",children:"No jobs found matching your criteria."})}),!S&&(0,g.jsxs)(n.A,{sx:{mt:4,p:3,bgcolor:"info.light",borderRadius:2},children:[(0,g.jsx)(s.A,{variant:"h6",gutterBottom:!0,children:"Want to unlock premium job listings?"}),(0,g.jsx)(s.A,{variant:"body1",children:"Sign up for an account to access detailed job descriptions, application links, and more!"})]})]})})}}}]);