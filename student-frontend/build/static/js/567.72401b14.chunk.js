"use strict";(self.webpackChunkeduvault_student_frontend=self.webpackChunkeduvault_student_frontend||[]).push([[567],{567:(e,o,t)=>{t.r(o),t.d(o,{default:()=>S});var n=t(8),r=t(9950),s=t(6491),i=t(6157),a=t(2235),l=t(2053),d=t(3174),c=t(9925),p=t(2046),g=t(5333),u=t(226),x=t(6639),h=t(6080),m=t(4857),A=t(7497),y=t(2015),j=t(2092),f=t(6163),v=t(8179),b=t(2714),w=t(9723),k=t(8429),C=t(2074),P=t(1543),W=t(4414);const S=()=>{var e,o;const t=(0,m.A)(),S=(0,k.Zp)(),_=(0,k.zy)(),{login:z,loading:E,error:I,clearError:L}=(0,P.A)(),[D,B]=(0,r.useState)({email:"",password:""}),[F,N]=(0,r.useState)(!1),q=(null===(e=_.state)||void 0===e||null===(o=e.from)||void 0===o?void 0:o.pathname)||"/",R=e=>{B((0,n.A)((0,n.A)({},D),{},{[e.target.name]:e.target.value})),I&&L()},H=async e=>{if(e&&(e.preventDefault(),e.stopPropagation()),console.log("\ud83d\ude80 Login form submitted:",D.email),console.log("\ud83d\udd0d Form data:",D),D.email&&D.password)try{console.log("\ud83d\udce1 Calling login function...");const e=await z(D.email,D.password);console.log("\ud83d\udce8 Login result received:",e),e&&e.success?(console.log("\u2705 Login successful!"),console.log("\ud83e\udded Navigating to:",q),S(q,{replace:!0})):console.log("\u274c Login failed:",null===e||void 0===e?void 0:e.error)}catch(I){console.error("\ud83d\udca5 Login error caught:",I)}else console.log("\u274c Missing email or password")};return(0,W.jsx)(s.A,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, ".concat(t.palette.primary.main," 0%, ").concat(t.palette.primary.dark," 100%)"),display:"flex",alignItems:"center",py:4},children:(0,W.jsx)(i.A,{maxWidth:"sm",children:(0,W.jsx)(w.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:(0,W.jsxs)(a.A,{elevation:24,sx:{p:4,borderRadius:3,bgcolor:(0,A.X4)(t.palette.background.paper,.95),backdropFilter:"blur(10px)"},children:[(0,W.jsxs)(s.A,{textAlign:"center",mb:4,children:[(0,W.jsx)(s.A,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",bgcolor:t.palette.primary.main,color:"white",mb:2},children:(0,W.jsx)(f.A,{sx:{fontSize:40}})}),(0,W.jsx)(l.A,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700},children:"Welcome Back"}),(0,W.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"Sign in to access your EduVault account"})]}),I&&(0,W.jsx)(d.A,{severity:"error",sx:{mb:3},children:I}),(0,W.jsxs)(s.A,{children:[(0,W.jsx)(c.A,{fullWidth:!0,name:"email",label:"Email Address",type:"email",value:D.email,onChange:R,required:!0,sx:{mb:3},InputProps:{startAdornment:(0,W.jsx)(p.A,{position:"start",children:(0,W.jsx)(y.A,{color:"action"})})}}),(0,W.jsx)(c.A,{fullWidth:!0,name:"password",label:"Password",type:F?"text":"password",value:D.password,onChange:R,onKeyPress:e=>{"Enter"===e.key&&(console.log("\u2328\ufe0f Enter key pressed in password field"),e.preventDefault(),e.stopPropagation(),H(e))},required:!0,sx:{mb:3},InputProps:{startAdornment:(0,W.jsx)(p.A,{position:"start",children:(0,W.jsx)(j.A,{color:"action"})}),endAdornment:(0,W.jsx)(p.A,{position:"end",children:(0,W.jsx)(g.A,{onClick:()=>N(!F),edge:"end",children:F?(0,W.jsx)(b.A,{}):(0,W.jsx)(v.A,{})})})}}),(0,W.jsx)(u.A,{fullWidth:!0,variant:"contained",size:"large",disabled:E,onClick:e=>{console.log("\ud83d\uddb1\ufe0f Button clicked"),e.preventDefault(),e.stopPropagation(),H(e)},sx:{mb:3,py:1.5,fontSize:"1.1rem",fontWeight:600},children:E?(0,W.jsx)(x.A,{size:24,color:"inherit"}):"Sign In"}),(0,W.jsxs)(s.A,{textAlign:"center",children:[(0,W.jsx)(h.A,{component:C.N_,to:"/forgot-password",variant:"body2",sx:{display:"block",mb:2},children:"Forgot your password?"}),(0,W.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",(0,W.jsx)(h.A,{component:C.N_,to:"/register",sx:{fontWeight:600},children:"Sign up here"})]})]})]})]})})})})}}}]);